{% load static %}
{% load sass_tags %}
{% load custom_templatetags %} 
{% load mathfilters %}

<!DOCTYPE html>

<html lang="en">
  <head>
    <link rel="manifest" href="{% static 'json/manifest.json' %}" />
    <link
      rel="icon"
      href="  {% static 'assets/images/favicon/2.png' %}"
      type="image/x-icon"
    />
    <link
      rel="apple-touch-icon"
      href="  {% static 'assets/images/favicon/2.png' %}"
    />
    <meta name="theme-color" content="#e22454" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black" />
    <meta name="apple-mobile-web-app-title" content="Voxo" />
    <meta
      name="msapplication-TileImage"
      content="  {% static 'assets/images/favicon/2.png' %}"
    />
    <meta name="msapplication-TileColor" content="#FFFFFF" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />

    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="Voxo" />
    <meta name="keywords" content="Voxo" />
    <meta name="author" content="Voxo" />
    <link rel="icon" href="{% static 'assets/images/favicon/2.png' %}" type="image/x-icon"/>
    <title>Product 4 Image</title>

    <!-- Google font -->
    <link rel="preconnect" href="https://fonts.gstatic.com" />
    <link href="https://fonts.googleapis.com/css2?family=Rubik:wght@400;500;600;700&display=swap" rel="stylesheet"/>

    <!-- bootstrap css -->
    <link id="rtl-link" rel="stylesheet" type="text/css" href="{% sass_src 'assets/scss/vendors/bootstrap.scss' %}"    />

    <!-- font-awesome css -->
    <link rel="stylesheet" type="text/css" href="{% sass_src 'assets/scss/vendors/font-awesome.scss' %}" />

    <!-- feather icon css -->
    <link rel="stylesheet" type="text/css" href="{% sass_src 'assets/scss/vendors/feather-icon.scss' %}" />

    <!--Plugin CSS file with desired skin-->
    <link rel="stylesheet" href="{% static 'assets/css/vendors/ion.rangeSlider.min.css' %}" />

    <!-- animation css -->
    <link rel="stylesheet" type="text/css" href="{% static 'assets/css/vendors/animate.min.css' %}" />

    <!-- slick css -->
    <link rel="stylesheet" type="text/css" href="{% sass_src 'assets/scss/vendors/slick/slick.scss' %}" />
    <link rel="stylesheet" type="text/css" href="{% sass_src 'assets/scss/vendors/slick/slick-theme.scss' %}"/>

    <!-- Theme css -->
    <link id="color-link" rel="stylesheet" type="text/css" href="{% sass_src 'assets/scss/demo2.scss' %}"/>
  </head>

  <body class="theme-color2 light ltr">
    <!-- Loader div Start -->
    <div class="loader-wrapper" id="loaderWrapper">
      <div id="loader"></div>
    </div>
    <!-- Loader div End -->

    {% comment %} 
    {% include 'includes/alerts.html' %}
    {% endcomment %} 
    {% include 'components/header/header-1.html' %}
    {% include 'components/mobile-fix-menu/mobile-fix-menu-1.html' %}
    {% include 'pages/pages/breadcrumb-section.html' %}
    {% block components %} 
    {% endblock components %}
    {% include 'pages/product/product-section.html' %}

    <!-- Subscibe Section Start -->
    <section class="subscribe-section section-b-space">
      <div class="container">
        <div class="row">
          <div class="col-lg-8 col-md-6">
            <div class="subscribe-details">
              <h2 class="mb-3">Subscribe Our News</h2>
              <h6 class="font-light">
                Subscribe and receive our newsletters to follow the news about
                our fresh and fantastic Products.
              </h6>
            </div>
          </div>

          <div class="col-lg-4 col-md-6 mt-md-0 mt-3">
            <div class="subsribe-input">
              <div class="input-group">
                <input
                  type="text"
                  class="form-control subscribe-input"
                  placeholder="Your Email Address"
                />
                <button class="btn btn-solid-default" type="button">
                  Button
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
    <!-- Subscibe Section End -->

    {% include 'components/footer/footer-1.html' %}

    <!-- 360 Degree Start -->
    <div
      class="modal fade shipping-modal"
      id="product-modal"
      tabindex="-1"
      role="dialog"
    >
      <div class="modal-dialog modal-lg modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
            ></button>
          </div>

          <div class="modal-body">
            <div class="wrapper">
              <div id="threesixty"></div>
              <div class="buttons-wrapper">
                <button class="button" id="prev">
                  <i class="fas fa-chevron-left"></i>
                </button>
                <button class="button" id="next">
                  <i class="fas fa-chevron-right"></i>
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- 360 Degree End -->

    <!-- sticky cart bottom start -->
    {% comment %}
    <div class="sticky-bottom-cart">
      <div class="container">
        <div class="cart-content">
          <div class="product-image">
            <img
              loading="lazy"
              src="{% static 'assets/images/fashion/instagram/1.jpg' %}"
              class="img-fluid blur-up lazyload"
              alt=""
            />
            <div class="content">
              <h5>men yellow jacket</h5>
              <h6>
                $32.96<del class="font-light">$459.00</del><span>55% off</span>
              </h6>
            </div>
          </div>
          <div class="selection-section">
            <div class="form-group mb-0">
              <select id="inputState" class="form-control form-select">
                <option disabled selected>Choose color...</option>
                <option>Pink</option>
                <option>Blue</option>
                <option>Grey</option>
                <option>Pink</option>
              </select>
            </div>
            <div class="form-group mb-0">
              <select id="input-state" class="form-control form-select">
                <option selected disabled>Choose size...</option>
                <option>Small</option>
                <option>Medium</option>
                <option>Large</option>
                <option>Extra Large</option>
              </select>
            </div>
          </div>
          <div class="add-btn">
            <a
              class="btn default-light-theme default-theme default-theme-2 outline-button wishlist-btn"
              href="javascript:void(0)"
              ><i class="fas fa-heart"></i>Wishlist</a
            >
            <a
              class="btn default-light-theme default-theme default-theme-2 outline-button"
              href="javascript:void(0)"
              ><i class="fas fa-shopping-cart"></i> Add To Cart</a
            >
          </div>
        </div>
      </div>
    </div>
    {% endcomment %}
    <!-- sticky cart bottom end -->

    <!-- recently purchase product -->
    {% comment %}
    <div class="recently-purchase d-md-flex d-none">
      <img
        loading="lazy"
        src="{% static 'assets/images/fashion/instagram/3.jpg' %}"
        class="img-fluid blur-up lazyload"
        alt=""
      />
      <div class="media-body">
        <div>
          <h4>Some recently purchase this item</h4>
          <a href="javascript:void(0)">
            <span class="product-name"> Floral Dress </span>
          </a>
          <small class="timeAgo">50 minutes ago</small>
        </div>
      </div>
      <a href="javascript:void(0)" class="close-popup fa fa-times"></a>
    </div>
    {% endcomment %}
    <!-- recently purchase product -->

    <!-- Quick view modal start -->
    <div class="modal fade quick-view-modal" id="quick-view">
      <div class="modal-dialog modal-lg modal-dialog-centered">
        <div class="modal-content">
          <button
            type="button"
            class="btn-close"
            data-bs-dismiss="modal"
          ></button>
          <div class="modal-body">
            <div class="row gy-4">
              {% comment %}
              <div class="col-lg-6">
                <div class="quick-view-image" id="quickViewImagesDiv">
                  <div class="quick-view-slider ratio_2">
                    <div>
                      <img
                        loading="lazy"
                        src="{% static 'assets/images/fashion/product/front/4.jpg' %}"
                        class="product-quick-view img-fluid bg-img blur-up lazyload"
                        alt="product"
                      />
                    </div>
                    <div>
                      <img
                        loading="lazy"
                        src="{% static 'assets/images/fashion/product/front/5.jpg' %}"
                        class="product-quick-view img-fluid bg-img blur-up lazyload"
                        alt="product"
                      />
                    </div>
                    <div>
                      <img
                        loading="lazy"
                        src="{% static 'assets/images/fashion/product/front/6.jpg' %}"
                        class="product-quick-view img-fluid bg-img blur-up lazyload"
                        alt="product"
                      />
                    </div>
                    <div>
                      <img
                        loading="lazy"
                        src="{% static 'assets/images/fashion/product/front/7.jpg' %}"
                        class="product-quick-view img-fluid bg-img blur-up lazyload"
                        alt="product"
                      />
                    </div>
                  </div>
                  <div class="quick-nav">
                    <div>
                      <img
                        loading="lazy"
                        src="{% static 'assets/images/fashion/product/front/4.jpg' %}"
                        class="product-quick-view img-fluid blur-up lazyload"
                        alt="product"
                      />
                    </div>
                    <div>
                      <img
                        loading="lazy"
                        src="{% static 'assets/images/fashion/product/front/5.jpg' %}"
                        class="product-quick-view img-fluid blur-up lazyload"
                        alt="product"
                      />
                    </div>
                    <div>
                      <img
                        loading="lazy"
                        src="{% static 'assets/images/fashion/product/front/6.jpg' %}"
                        class="product-quick-view img-fluid blur-up lazyload"
                        alt="product"
                      />
                    </div>
                    <div>
                      <img
                        loading="lazy"
                        src="{% static 'assets/images/fashion/product/front/7.jpg' %}"
                        class="product-quick-view img-fluid blur-up lazyload"
                        alt="product"
                      />
                    </div>
                  </div>
                </div>
                <div class="quick-view-image" id="quickViewImagesDiv">
                  <img
                    loading="lazy"
                    src="{% static 'assets/images/fashion/product/front/4.jpg' %}"
                    class="product-quick-view img-fluid bg-img blur-up lazyload"
                    alt="product"
                  />
                </div>
              </div>
              {% endcomment %}
              <div class="col-lg-6 ratio_2">
                <div class="quick-view-image" id="quickViewImagesDiv">
                  <img
                    loading="lazy"
                    id="quickViewImage"
                    class="product-quick-view img-fluid bg-img blur-up lazyload"
                    alt="product"
                  />
                </div>
              </div>
              <div class="col-lg-6">
                <div class="product-right" id="productRight">
                  <h2 class="mb-2" id="productName"></h2>
                  <ul class="rating mt-1" id="productRating">
                    <li class="font-light" id="stockStatus"></li>
                  </ul>
                  <div id="priceLabel" class="price mt-3">
                    <h3 id="productPrice">$20.00</h3>
                    <del
                      class="font-light mx-2"
                      id="actualPriceAtQuickView"
                    ></del>
                    <span
                      class="theme-color"
                      id="discountPercentageAtQuickView"
                    ></span>
                  </div>
                  <div class="price mt-3" id="priceLabel2"></div>
                  {% comment %} {% endcomment %} {% comment %}
                  <div class="color-types">
                    <h4>colors</h4>
                    <ul class="color-variant mb-0">
                      <li class="bg-half-light selected"></li>
                      <li class="bg-light1"></li>
                      <li class="bg-blue1"></li>
                      <li class="bg-black1"></li>
                    </ul>
                  </div>
                  <div class="size-detail">
                    <h4>size</h4>
                    <ul class="">
                      <li class="selected">S</li>
                      <li>M</li>
                      <li>L</li>
                      <li>XL</li>
                    </ul>
                  </div>
                  {% endcomment %} {% comment %} {% endcomment %} {% comment %}
                  <div class="product-details">
                    <h4>product details</h4>
                    <ul>
                      <li><span class="font-light">Style :</span> Hoodie</li>
                      <li>
                        <span class="font-light">Category :</span> T-shirt
                      </li>
                      <li>
                        <span class="font-light">Tags:</span> summer, organic
                      </li>
                    </ul>
                  </div>
                  {% endcomment %}
                  <div class="product-btns" id="productBtnDiv">
                    <a id="addToCart" class="btn btn-solid-default btn-sm"
                      >Add to cart</a
                    >
                    <a
                      id="productLeftSlidebar"
                      class="btn btn-solid-default btn-sm"
                      >View details</a
                    >
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- Quick view modal end -->

    <!-- Cart Successful Start -->
    <div
      class="modal fade cart-modal"
      id="addtocart"
      tabindex="-1"
      role="dialog"
    >
      <div class="modal-dialog modal-lg modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
            ></button>
          </div>

          <div class="modal-body">
            <div class="modal-contain">
              <div>
                <div class="modal-messages">
                  <i class="fas fa-check"></i> 3-stripes full-zip hoodie
                  successfully added to you cart.
                </div>
                <div class="modal-product">
                  <div class="modal-contain-img">
                    <img
                      loading="lazy"
                      src="{% static 'assets/images/fashion/instagram/4.jpg' %}"
                      class="img-fluid blur-up lazyload"
                      alt=""
                    />
                  </div>
                  <div class="modal-contain-details">
                    <h4>Premier Cropped Skinny Jean</h4>
                    <p class="font-light my-2">Yellow, Qty : 3</p>
                    <div class="product-total">
                      <h5>TOTAL : <span>$1,140.00</span></h5>
                    </div>
                    <div class="shop-cart-button mt-3">
                      <a
                        href="shop-left-sidebar.html"
                        class="btn default-light-theme conti-button default-theme default-theme-2 rounded"
                        >CONTINUE SHOPPING</a
                      >
                      <a
                        href="cart.html"
                        class="btn default-light-theme conti-button default-theme default-theme-2 rounded"
                        >VIEW CART</a
                      >
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div class="ratio_asos mt-4">
              <div class="container">
                <div class="row m-0">
                  <div class="col-sm-12 p-0">
                    <div
                      class="product-wrapper product-style-2 slide-4 p-0 light-arrow bottom-space spacing-slider"
                    >
                      <div>
                        <div class="product-box">
                          <div class="img-wrapper">
                            <div class="front">
                              <a href="{% url 'shop_left_slidebar' %}">
                                <img
                                  loading="lazy"
                                  src="{% static 'assets/images/fashion/product/front/1.jpg' %}"
                                  class="bg-img blur-up lazyload"
                                  alt=""
                                />
                              </a>
                            </div>
                          </div>
                          <div class="product-details text-center">
                            <div class="rating-details d-block text-center">
                              <span class="font-light grid-content"
                                >B&Y Jacket</span
                              >
                            </div>
                            <div class="main-price mt-0 d-block text-center">
                              <h3 class="theme-color">$78.00</h3>
                            </div>
                          </div>
                        </div>
                      </div>

                      <div>
                        <div class="product-box">
                          <div class="img-wrapper">
                            <div class="front">
                              <a href="{% url 'shop_left_slidebar' %}">
                                <img
                                  loading="lazy"
                                  src="{% static 'assets/images/fashion/product/front/2.jpg' %}"
                                  class="bg-img blur-up lazyload"
                                  alt=""
                                />
                              </a>
                            </div>
                          </div>
                          <div class="product-details text-center">
                            <div class="rating-details d-block text-center">
                              <span class="font-light grid-content"
                                >B&Y Jacket</span
                              >
                            </div>
                            <div class="main-price mt-0 d-block text-center">
                              <h3 class="theme-color">$78.00</h3>
                            </div>
                          </div>
                        </div>
                      </div>

                      <div>
                        <div class="product-box">
                          <div class="img-wrapper">
                            <div class="front">
                              <a href="{% url 'shop_left_slidebar' %}">
                                <img
                                  loading="lazy"
                                  src="{% static 'assets/images/fashion/product/front/3.jpg' %}"
                                  class="bg-img blur-up lazyload"
                                  alt=""
                                />
                              </a>
                            </div>
                          </div>
                          <div class="product-details text-center">
                            <div class="rating-details d-block text-center">
                              <span class="font-light grid-content"
                                >B&Y Jacket</span
                              >
                            </div>
                            <div class="main-price mt-0 d-block text-center">
                              <h3 class="theme-color">$78.00</h3>
                            </div>
                          </div>
                        </div>
                      </div>

                      <div>
                        <div class="product-box">
                          <div class="img-wrapper">
                            <div class="front">
                              <a href="{% url 'shop_left_slidebar' %}">
                                <img
                                  loading="lazy"
                                  src="{% static 'assets/images/fashion/product/front/4.jpg' %}"
                                  class="bg-img blur-up lazyload"
                                  alt=""
                                />
                              </a>
                            </div>
                          </div>
                          <div class="product-details text-center">
                            <div class="rating-details d-block text-center">
                              <span class="font-light grid-content"
                                >B&Y Jacket</span
                              >
                            </div>
                            <div class="main-price mt-0 d-block text-center">
                              <h3 class="theme-color">$78.00</h3>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- Cart Successful End -->

    <!-- Size Modal Start -->
    <div class="modal modal-size fade" id="sizemodal">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
            ></button>
          </div>
          <div class="modal-body">
            <img
              loading="lazy"
              src="{% static 'assets/images/size-chart.jpg' %}"
              alt=""
              class="img-fluid blur-up lazyload"
            />
          </div>
        </div>
      </div>
    </div>
    <!-- Size Modal End -->

    <!-- Video Play Modal Start -->
    <div
      class="modal fade video-play-modal"
      id="product-modal"
      tabindex="-1"
      role="dialog"
    >
      <div class="modal-dialog modal-lg modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
            ></button>
          </div>

          <div class="modal-body location-map">
            <iframe
              src="https://www.youtube.com/embed/3xDTtv22G-s"
              title="YouTube video player"
              allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
              allowfullscreen=""
            ></iframe>
          </div>
        </div>
      </div>
    </div>
    <!-- Video Play Modal End -->

    <!-- Add To Cart Notification -->
    <div class="added-notification">
      <img
        loading="lazy"
        src="{% static 'assets/images/fashion/banner/2.jpg' %}"
        class="img-fluid blur-up lazyload"
        alt=""
      />
      <h3>added to cart</h3>
    </div>
    <!-- Add To Cart Notification -->

    <!-- theme Setting Start -->
    <div class="theme-setting">
      <ul>
        <li>
          <button id="darkButton" class="btn btn-sm dark-buttton">Dark</button>
        </li>
        <li>
          <button class="btn btn-sm rtl-button">RTL</button>
        </li>
        <li class="color-picker">
          <input
            type="color"
            class="form-control form-control-color"
            id="ColorPicker1"
            value="#e22454"
            title="Choose your color"
          />
        </li>
      </ul>
    </div>
    <!-- theme Setting End -->

    <!-- tap to top Section Start -->
    <div class="tap-to-top">
      <a href="#home">
        <i class="fas fa-chevron-up"></i>
      </a>
    </div>
    <!-- tap to top Section End -->

    <div class="bg-overlay"></div>

    <!-- latest jquery-->
    <script src="{% static 'assets/js/jquery-3.5.1.min.js' %}"></script>

    <!-- Add To Home js -->
    <script src="{% static 'assets/js/pwa.js' %}"></script>

    <!-- Bootstrap js-->
    <script src="{% static 'assets/js/bootstrap/bootstrap.bundle.min.js' %}"></script>

    <!-- feather icon js-->
    <script src="{% static 'assets/js/feather/feather.min.js' %}"></script>

    <!-- lazyload js-->
    <script src="{% static 'assets/js/lazysizes.min.js' %}"></script>

    <!-- Slick js-->
    <script src="{% static 'assets/js/slick/slick.js' %}"></script>
    <script src="{% static 'assets/js/slick/slick-animation.min.js' %}"></script>
    <script src="{% static 'assets/js/slick/custom_slick.js' %}"></script>

    {% comment %}
    <!-- timer js -->
    <script src="{% static 'assets/js/timer.js' %}"></script>
    {% endcomment %}

    <!-- Timer Js -->
    <script src="{% static 'assets/js/timer.js' %}"></script>
    <script src="{% static 'assets/js/timer1.js' %}"></script>
    <script src="{% static 'assets/js/timer2.js' %}"></script>
    <script src="{% static 'assets/js/timer3.js' %}"></script>

    <!-- sticky cart bottom js-->
    <script src="{% static 'assets/js/sticky-cart-bottom.js' %}"></script>

    <!-- sticky cart bottom js-->
    <script src="{% static 'assets/js/check-box-select.js' %}"></script>

    <!-- 360 View Js -->
    <script src="{% static 'assets/js/threesixty.js' %}"></script>
    <script src="{% static 'assets/js/custome-threesixty.js' %}"></script>

    <!-- Zoom Js -->
    <script src="{% static 'assets/js/jquery.elevatezoom.js' %}"></script>
    <script src="{% static 'assets/js/zoom-filter.js' %}"></script>

    <!--Plugin JavaScript file-->
    <script src="{% static 'assets/js/ion.rangeSlider.min.js' %}"></script>

    <!-- add to cart modal resize -->
    <script src="{% static 'assets/js/cart_modal_resize.js' %}"></script>

    <!-- Filter Hide and show Js -->
    <script src="{% static 'assets/js/filter.js' %}"></script>

    <!-- Notify js-->
    <script src="{% static 'assets/js/bootstrap/bootstrap-notify.min.js' %}"></script>

    {% block script %} 
    {% endblock script %}

    <script>
      function getCookie(name) {
        let cookieValue = null;
        if (document.cookie && document.cookie !== "") {
          const cookies = document.cookie.split(";");
          for (let i = 0; i < cookies.length; i++) {
            const cookie = cookies[i].trim();
            // Does this cookie string begin with the name we want?
            if (cookie.substring(0, name.length + 1) === name + "=") {
              cookieValue = decodeURIComponent(
                cookie.substring(name.length + 1)
              );
              break;
            }
          }
        }
        return cookieValue;
      }
      var csrftoken = getCookie("csrftoken");

      /*async function handleQuickView(params) {
          var url = "{% url 'quick_view' %}";
          await fetch(url, {
            method: "POST",
            headers: {
              "Content-type": "application/json",
              "X-CSRFToken": csrftoken,
            },
            body: JSON.stringify({
              productId: params.productId,
              productVariantId: params.productVariantId,
            }),
          })
            .then((response) => {
              return response.json();
            })
            .then((data) => {
              let id = data.productId;
              let firstProductVariant = data.firstProductVariant;
              
              console.log('--------singleImage>>>>',data.singleImage);
              // console.log('--------multipleImages>>>>',data.multipleImages);
      
              var productDetailsAtQuickView=document.getElementById('product-details');
              if(productDetailsAtQuickView){
                productDetailsAtQuickView.remove();
              }
      
              // Code to render out multiple images in quick model view START -------------------------------------------------
              var quickViewImg=document.getElementById("quickViewImage");
              quickViewImg.setAttribute('src', data.singleImage)
              var element = document.getElementById("quickViewImagesDiv");
              element.style.backgroundImage = 'url("'+data.singleImage+'")';
              
              // Code to render out multiple images in quick model view END ---------------------------------------------------
      
      
              // ================= for rating start =================
              let productRatingDiv = document.getElementById("productRating");
              productRatingDiv.innerHTML = "";
      
              for (let j = 1; j <= 5; j++) {
                let ratingLi = document.createElement("li"),
                  icon = document.createElement("i");
                icon.setAttribute("class", "fas fa-star");
                if (j <= data.productFinalRating) {
                  icon.classList.add("theme-color");
                }
                ratingLi.appendChild(icon);
                productRatingDiv.appendChild(ratingLi);
              }
              let stockStatusLi = document.createElement("li");
              stockStatusLi.setAttribute("class", "font-light");
              stockStatusLi.setAttribute("id", "stockStatus");
              productRatingDiv.appendChild(stockStatusLi);
      
              // ================= for rating ends==================
      
              document.getElementById("productName").innerHTML = data.productName;
              document.getElementById("stockStatus").innerHTML =
                "( " + data.productStockStatus + " )";
              // console.log("$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$", data);
      
              document.getElementById("productPrice").innerHTML =
                data.productVariantMinPrice +
                "-" +
                data.productVariantMaxPrice;
              // document.getElementById('productPrice').innerHTML = data.productFinalPrice + ".00";
      
              
      
      
              if (data.productType == "Simple") {
                GetConvertedValues(data.productVariantPrice1).then((Data) => {
                  document.getElementById("productPrice").innerHTML =
                    Data.symbol + " " + Data.value;
                });
                GetConvertedValues(data.productVariantActualPrice).then((Data) => {
                  document.getElementById("actualPriceAtQuickView").innerHTML =
                    Data.symbol + " " + Data.value;
                });
                
                document.getElementById("discountPercentageAtQuickView").innerHTML = data.productVariantDiscount;
                // document.getElementById("productPrice").innerHTML =data.productVariantPrice1 +".00";
              }
              if (data.productType == "Classified") {
                GetConvertedRangeValues(
                  data.productVariantMinPrice,
                  data.productVariantMaxPrice
                ).then((Data) => {
                  document.getElementById("productPrice").innerHTML =
                    Data.symbol +
                    " " +
                    Data.value1 +
                    " - " +
                    Data.symbol +
                    " " +
                    Data.value2;
                });
      
                //document.getElementById("productPrice").innerHTML =data.productVariantMinPrice +"-" +data.productVariantMaxPrice +".00";
                GetConvertedRangeValues(
                  data.productVariantMinActualPrice,
                  data.productVariantMaxActualPrice
                ).then((Data) => {
                  document.getElementById("actualPriceAtQuickView").innerHTML =
                    Data.symbol +
                    " " +
                    Data.value1 +
                    " - " +
                    Data.symbol +
                    " " +
                    Data.value2;
                });
      
                document.getElementById("discountPercentageAtQuickView").innerHTML = data.productVariantDiscountRange;
              }
      
              if (data.productType == "Simple") {
                var flag = document.getElementById("attrSuperDiv");
                if (flag) {
                  flag.remove();
                }
              }
      
              
              if (data.productType == "Classified") {
      
                var attributeObjects = data.attributeObjects
                var attributeObjectsLength = data.attributeObjects.length
                var flag = document.getElementById("attrSuperDiv");
                if (flag) {
                  flag.remove();
                }
                var priceLabel2 = document.getElementById("priceLabel2");
                let attrSuperDiv = document.createElement("div");
                attrSuperDiv.id="attrSuperDiv";
                for (let i = 0; i < attributeObjects.length; i++) {
                  for (let attrName in attributeObjects[i]) {
      
                    var falg = document.getElementById(attrName+"DivId");
      
                    let attrValues = attributeObjects[i][attrName];
                
                    let attrDiv = document.createElement("div");
                    attrDiv.className = attrName.toLowerCase() + "-types size-detail";
                
                    let heading = document.createElement("h4");
                    heading.textContent = attrName;
                    heading.id = attrName+"DivId"
                    
                
                    let ul = document.createElement("ul");
                
                    for (let j = 0; j < attrValues.length; j++) {
                      let li = document.createElement("li");
                
                      let liId = attrName.toLowerCase() + "UlLi" + j;
                      li.setAttribute("id", liId);
                
                      let a = document.createElement("a");
                      let aId = attrName.toLowerCase() + "A" + j;
                      a.setAttribute("id", aId);
                      let fun =
                        "show_details_for_quick_view({attributeObjectsIds:'"+data.attributeObjectsIds+"',clickedEleId: '" +
                        aId + "', eleLen: '" +
                        attrValues.length + "', key: 'selected" +
                        attrName + "AtQuickView', value: '" +
                        attrValues[j] + "', id: '" +
                        data.productId + "'})";
                      a.setAttribute("onClick", fun);
                
                      let liContent = document.createElement("li");
                      liContent.setAttribute("class", attrName.toLowerCase() + "Li");
                      liContent.innerHTML = attrValues[j];
                
                      li.appendChild(a);
                      a.appendChild(liContent);
                      ul.appendChild(li);
                    }
                    // Create hidden input field for attribute
                    let input = document.createElement("input");
                    input.type = "hidden";
                    input.name = attrName.toLowerCase();
                    // input.value = attrName;
                    input.id = "selected"+attrName+"AtQuickView";
                    attrDiv.appendChild(input);
                  
                    attrDiv.appendChild(heading);
                    attrDiv.appendChild(ul);
                    
                    
                    priceLabel2.appendChild(attrSuperDiv);
                    attrSuperDiv.appendChild(attrDiv);
      
                  }
                }
              }
      
              
      
              let url1 = "add_to_cart_fun_at_quick_view({key:'test'})".replace(
                "test",
                firstProductVariant.toString()
              );
              document.getElementById("addToCart").setAttribute("onClick", url1);
      
              let url2 = "{% url 'left_slidebar' 'test' %}".replace(
                "test",
                id.toString()
              );
              document.getElementById("productLeftSlidebar").setAttribute("href", url2);
      
              var images = document.getElementsByClassName("product-quick-view");
      
              // for (var i = 0; i < images.length; i++) {
              //   images[i].setAttribute("src", data.multipleImages);
              //   if (images[i].classList.contains("bg-img")) {
              //     images[i].parentElement.style.backgroundImage = `url("${data.multipleImages}")`;
              //   }
              // }
      
              // Code to render out product details like Category and Brand in quick model view START -------------------------
      
              const div = document.createElement("div");
              div.className = "product-details";
              div.id="product-details"
              
                
              const h4 = document.createElement("h4");
              h4.textContent = "product details";
              div.appendChild(h4);
      
              const ul = document.createElement("ul");
      
              const li1 = document.createElement("li");
              const span1 = document.createElement("span");
              span1.className = "font-light";
              span1.textContent = "Brand :";
              li1.appendChild(span1);
              li1.appendChild(document.createTextNode(data.brand));
              ul.appendChild(li1);
      
              const li2 = document.createElement("li");
              const span2 = document.createElement("span");
              span2.className = "font-light";
              span2.textContent = "Category :";
              li2.appendChild(span2);
              li2.appendChild(document.createTextNode(data.category));
              ul.appendChild(li2);
      
              div.appendChild(ul);
      
              // var attrSuperDiv = document.getElementById("attrSuperDiv");
              // 
              // if (attrSuperDiv) {
              //   attrSuperDiv.after(div);
              // } else {
              // var priceLabelAtQuickView = document.getElementById("priceLabel2");
              //   priceLabelAtQuickView.after(div);
              // }
              var priceLabelAtQuickView = document.getElementById("priceLabel2");
              priceLabelAtQuickView.after(div);
              // Code to render out product details like Category and Brand in quick model view End ---------------------------
      
              // Code to render out multiple images in quick model view START -------------------------------------------------
              
              // Code to render out multiple images in quick model view END ---------------------------------------------------
            });
        }*/

      async function show_details_for_quick_view(params) {
        console.log("=======params params params=====>", params);
        var ulElement = document.getElementById(params.ulDiv + "-id");
        var activeElements = ulElement.querySelectorAll(".active");
        activeElements.forEach(function (element) {
          element.classList.remove("active");
          element.style.backgroundColor = "";
        });
        document
          .getElementById(params.clickedEleId)
          .setAttribute("class", "active");
        document.getElementById(params.clickedEleId).style.backgroundColor =
          "#bfbfbf";
        document.getElementById(params.key).setAttribute("value", params.value);

        const attributes = params.attributeObjectsIds.split(",");
        console.log("============<><><><>", attributes);

        var allAttributesFilled = true;

        for (var i = 0; i < attributes.length; i++) {
          var attributeValue = document
            .getElementById(attributes[i])
            .getAttribute("value");
          if (!attributeValue || attributeValue.length === 0) {
            allAttributesFilled = false;
            break;
          }
        }
        if (allAttributesFilled) {
          console.log("============ API CALL KAR DE YARRR ============");
          var selectedAttributeValueDict = {};
          for (var i = 0; i < attributes.length; i++) {
            var attributeName = attributes[i];
            var selectedAttributeValue = document
              .getElementById(attributes[i])
              .getAttribute("value");
            // Perform any desired operations with selectedAttributeValue
            selectedAttributeValueDict[attributeName] = selectedAttributeValue;
          }
          console.log(
            "88888888888888888888888888888===selectedAttributeValueDict",
            selectedAttributeValueDict
          );

          var url = "{% url 'get_product_variant' %}";
          await fetch(url, {
            method: "POST",
            headers: {
              "Content-type": "application/json",
              "X-CSRFToken": csrftoken,
            },
            body: JSON.stringify({
              productId: params.id,
              selectedAttributeValueDict: selectedAttributeValueDict,
            }),
          })
            .then((response) => {
              return response.json();
            })
            .then((data) => {
              if (data.productVariantPrice == "Product Out Of Stock") {
                document.getElementById("productPrice").innerHTML =
                  data.productVariantPrice;
                document.getElementById("actualPriceAtQuickView").innerHTML =
                  "";
                document.getElementById(
                  "discountPercentageAtQuickView"
                ).innerHTML = "";
              } else {
                GetConvertedValues(data.productVariantPrice).then((Data) => {
                  document.getElementById("productPrice").innerHTML =
                    Data.symbol + " " + Data.value;
                });

                GetConvertedValues(data.productVariantActualPrice).then(
                  (Data) => {
                    document.getElementById(
                      "actualPriceAtQuickView"
                    ).innerHTML = Data.symbol + " " + Data.value;
                  }
                );

                document.getElementById(
                  "discountPercentageAtQuickView"
                ).innerHTML = data.productVariantDiscount + "%";
              }
              let urlForAddToCartAddToCart =
                "add_to_cart_fun_at_quick_view({key:'firstProductVariant'})";
              urlForAddToCartAddToCart = urlForAddToCartAddToCart.replace(
                "firstProductVariant",
                data.productVariantId.toString()
              );
              document
                .getElementById("addToCart")
                .setAttribute("onClick", urlForAddToCartAddToCart);
            });
        }
      }
    </script>

    {% comment %}
    -----------------------------------------------------------------------------
    {% endcomment %}
    <script>
      function getCookie(name) {
        let cookieValue = null;
        if (document.cookie && document.cookie !== "") {
          const cookies = document.cookie.split(";");
          for (let i = 0; i < cookies.length; i++) {
            const cookie = cookies[i].trim();
            // Does this cookie string begin with the name we want?
            if (cookie.substring(0, name.length + 1) === name + "=") {
              cookieValue = decodeURIComponent(
                cookie.substring(name.length + 1)
              );
              break;
            }
          }
        }
        return cookieValue;
      }
      var csrftoken = getCookie("csrftoken");

      async function show_details_ls(params) {
        console.log("-------Params---------->",params);
        document.getElementById(params.key).setAttribute("value", params.value);

        var allAttributesFilled = true;

        for (var i = 0; i < params.attributeNameList.length; i++) {
          var attributeValue = document
            .getElementById(params.attributeNameList[i])
            .getAttribute("value");
          if (!attributeValue || attributeValue.length === 0) {
            allAttributesFilled = false;
            break;
          }
        }

        if (allAttributesFilled) {
          var selectedAttributeValueDict = {};
          for (var i = 0; i < params.attributeNameList.length; i++) {
            var attributeName = params.attributeNameList[i];
            var selectedAttributeValue = document
              .getElementById(params.attributeNameList[i])
              .getAttribute("value");
            // Perform any desired operations with selectedAttributeValue
            selectedAttributeValueDict[attributeName] = selectedAttributeValue;
          }

          var url = "{% url 'get_product_variant' %}";
          await fetch(url, {
            method: "POST",
            headers: {
              "Content-type": "application/json",
              "X-CSRFToken": csrftoken,
            },
            body: JSON.stringify({
              productId: params.id,
              selectedAttributeValueDict: selectedAttributeValueDict,
            }),
          })
            .then((response) => {
              return response.json();
            })
            .then((data) => {
              if (data.productVariantPrice == "Product Out Of Stock") {
                document.getElementById("productFinalPrice").innerHTML =
                  data.productVariantPrice;
              } else {
                GetConvertedValues(data.productVariantPrice).then((Data) => {
                  document.getElementById("productFinalPrice").innerHTML =
                    Data.symbol + " " + Data.value + " ";
                });
                if (data.productVariantDiscount > 0) {
                  let productFinalPrice =
                    document.getElementById("productFinalPrice");
                  let actualPrice = document.createElement("del");
                  let discountPercentage = document.createElement("span");
                  console.log("----------------->Before");
                  discountPercentage.setAttribute("id", "discountPercentage");
                  console.log("----------------->After");
                  GetConvertedValues(data.productVariantActualPrice).then(
                    (Data) => {
                      actualPrice.innerHTML = Data.symbol + Data.value;

                      discountPercentage.innerHTML =
                        data.productVariantDiscount + "%";
                      productFinalPrice.appendChild(actualPrice);
                      productFinalPrice.appendChild(discountPercentage);
                    }
                  );
                }
              }
              let quantityValue = document
                .getElementById("counterAtLeftSlidebar")
                .getAttribute("value");
              let urlForAddToCartCartEffect =
                "add_to_cart_fun({key:'firstProductVariant'})";
              urlForAddToCartCartEffect = urlForAddToCartCartEffect.replace(
                "firstProductVariant",
                data.productVariantId.toString()
              );
              document
                .getElementById("cartEffect")
                .setAttribute("onClick", urlForAddToCartCartEffect);
              let urlForAddToWishlistWishlistEffect =
                "{% url 'add_to_wishlist' 'productVariantId' %}".replace(
                  "productVariantId",
                  data.productVariantId.toString()
                );
              document
                .getElementById("wishlistEffect")
                .setAttribute("href", urlForAddToWishlistWishlistEffect);
            });
          // Code to execute when all attributes have non-empty values
        }
      }

      function counterPlus(params) {
        let counterAtLeftSlidebar = document.getElementById(params.key);
        let a = counterAtLeftSlidebar.getAttribute("value");
        let b = Number(a) + 1;
        counterAtLeftSlidebar.setAttribute("value", b);
      }

      function counterMinus(params) {
        let counterAtLeftSlidebar = document.getElementById(params.key);
        let a = counterAtLeftSlidebar.getAttribute("value");
        let b = Number(a) - 1;
        if (b <= 0) {
          // if quantity goes to zero or negative then...rehne do tum se na ho payega
        } else {
          counterAtLeftSlidebar.setAttribute("value", b);
        }
      }

      function add_to_cart_fun(params) {

        let counterAtLeftSlidebar = document.getElementById("counterAtLeftSlidebar");

        let quantityValue = counterAtLeftSlidebar.getAttribute("value");
        if (params.key == "No Product Yet") {
        } else {
          let url = "{% url 'add_to_cart' 'id' 'quantity' %}";
          url = url.replace("id", params.key);
          url = url.replace("quantity", quantityValue);
          fetch(url, {
            method: "GET",
            headers: {
              "Content-type": "application/json",
              "X-CSRFToken": csrftoken,
            },
          }).then((data) => {
            window.location.replace(data.url);
          });
        } 
      }

      /*function add_to_cart_fun(params) {
      let counterAtLeftSlidebar = document.getElementById("counterAtLeftSlidebar");

      let quantityValue = counterAtLeftSlidebar.getAttribute("value");
      if (params.key == "No Product Yet") {
        // No Product Yet To bhai me add kya karuu ???
      } else {
        let url = "{% url 'add_to_cart' 'id' 'quantity' %}";
        url = url.replace("id", params.key);
        url = url.replace("quantity", quantityValue);
        fetch(url, {
          method: "GET",
          headers: {
            "Content-type": "application/json",
            "X-CSRFToken": csrftoken,
          },
        })
        .then((response) => response.json()) // Parse response as JSON
        .then((data) => {
        console.log('DATA DATA =====>',data)

          if (data) {
            console.log('12345645645362132362')
            // Display success message to the user
            let successMessage = document.getElementById("message");
            successMessage.innerText = data.message;
            successMessage.style.display = "block";
            window.location.replace(data.url);
          } else {
            console.log('==> ITS ELSE PART <===')
            // Handle any errors or display an error message
            let errorMessage = document.getElementById("message");
            errorMessage.innerText = data.message;
            errorMessage.style.display = "block";
            window.location.replace(data.url);

          }
        })
        .catch((error) => {
          console.error("Error:", error);
        });
      }
    }*/
      // NEW JS ADDED ===========================================================================================

      async function GetConvertedValues(value) {
        var url = "{% url 'get_selected_currency' %}",
          valuereturn = 0;
        await fetch(url, {
          method: "GET",
          headers: {
            "Content-type": "application/json",
            "X-CSRFToken": csrftoken,
          },
        })
          .then((response) => {
            return response.json();
          })
          .then((data) => {
            (valuereturn = (data.factor * value).toFixed(2)),
              (symbol = data.symbol);
          });
        return {
          symbol: symbol,
          value: valuereturn,
        };
      }

      async function GetConvertedRangeValues(value1, value2) {
        var url = "{% url 'get_selected_currency' %}",
          valuereturn1 = 0,
          valuereturn2 = 0;
        await fetch(url, {
          method: "GET",
          headers: {
            "Content-type": "application/json",
            "X-CSRFToken": csrftoken,
          },
        })
          .then((response) => {
            return response.json();
          })
          .then((data) => {
            (valuereturn1 = (data.factor * value1).toFixed(2)),
              (valuereturn2 = (data.factor * value2).toFixed(2)),
              (symbol = data.symbol);
          });
        return {
          symbol: symbol,
          value1: valuereturn1,
          value2: valuereturn2,
        };
      }

      async function handleQuickView(params) {
        var url = "{% url 'quick_view' %}";
        await fetch(url, {
          method: "POST",
          headers: {
            "Content-type": "application/json",
            "X-CSRFToken": csrftoken,
          },
          body: JSON.stringify({
            productId: params.productId,
            productVariantId: params.productVariantId,
          }),
        })
          .then((response) => {
            return response.json();
          })
          .then((data) => {
            let id = data.productId;
            let firstProductVariant = data.firstProductVariant;

            console.log("--------singleImage>>>>", data.singleImage);
            // console.log('--------multipleImages>>>>',data.multipleImages);

            var productDetailsAtQuickView =
              document.getElementById("product-details");
            if (productDetailsAtQuickView) {
              productDetailsAtQuickView.remove();
            }

            // Code to render out multiple images in quick model view START -------------------------------------------------
            var quickViewImg = document.getElementById("quickViewImage");
            quickViewImg.setAttribute("src", data.singleImage);
            var element = document.getElementById("quickViewImagesDiv");
            element.style.backgroundImage = 'url("' + data.singleImage + '")';

            // Code to render out multiple images in quick model view END ---------------------------------------------------

            // ================= for rating start ==================
            let productRatingDiv = document.getElementById("productRating");
            productRatingDiv.innerHTML = "";

            for (let j = 1; j <= 5; j++) {
              let ratingLi = document.createElement("li"),
                icon = document.createElement("i");
              icon.setAttribute("class", "fas fa-star");
              if (j <= data.productFinalRating) {
                icon.classList.add("theme-color");
              }
              ratingLi.appendChild(icon);
              productRatingDiv.appendChild(ratingLi);
            }
            let stockStatusLi = document.createElement("li");
            stockStatusLi.setAttribute("class", "font-light");
            stockStatusLi.setAttribute("id", "stockStatus");
            productRatingDiv.appendChild(stockStatusLi);

            // ================= for rating ends==================

            document.getElementById("productName").innerHTML = data.productName;
            document.getElementById("stockStatus").innerHTML =
              "( " + data.productStockStatus + " )";
            // console.log("$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$", data);

            document.getElementById("productPrice").innerHTML =
              data.productVariantMinPrice + "-" + data.productVariantMaxPrice;
            // document.getElementById('productPrice').innerHTML = data.productFinalPrice + ".00";

            if (data.productType == "Simple") {
              GetConvertedValues(data.productVariantPrice1).then((Data) => {
                document.getElementById("productPrice").innerHTML =
                  Data.symbol + " " + Data.value;
              });
              GetConvertedValues(data.productVariantActualPrice).then(
                (Data) => {
                  document.getElementById("actualPriceAtQuickView").innerHTML =
                    Data.symbol + " " + Data.value;
                }
              );

              document.getElementById(
                "discountPercentageAtQuickView"
              ).innerHTML = data.productVariantDiscount;
              // document.getElementById("productPrice").innerHTML =data.productVariantPrice1 +".00";
            }
            if (data.productType == "Classified") {
              GetConvertedRangeValues(
                data.productVariantMinPrice,
                data.productVariantMaxPrice
              ).then((Data) => {
                document.getElementById("productPrice").innerHTML =
                  Data.symbol + " " + Data.value1;
                //  +
                // " - " +
                // Data.symbol +
                // " " +
                // Data.value2;
              });

              //document.getElementById("productPrice").innerHTML =data.productVariantMinPrice +"-" +data.productVariantMaxPrice +".00";
              GetConvertedRangeValues(
                data.productVariantMinActualPrice,
                data.productVariantMaxActualPrice
              ).then((Data) => {
                document.getElementById("actualPriceAtQuickView").innerHTML =
                  Data.symbol + " " + Data.value1;
                //  +
                // " - " +
                // Data.symbol +
                // " " +
                // Data.value2;
              });

              document.getElementById(
                "discountPercentageAtQuickView"
              ).innerHTML = data.productVariantDiscountRange;
            }

            if (data.productType == "Simple") {
              var flag = document.getElementById("attrSuperDiv");
              if (flag) {
                flag.remove();
              }
            }

            if (data.productType == "Classified") {
              var attributeObjects = data.attributeObjects;
              var attributeObjectsLength = data.attributeObjects.length;
              var flag = document.getElementById("attrSuperDiv");
              if (flag) {
                flag.remove();
              }
              var priceLabel2 = document.getElementById("priceLabel2");
              let attrSuperDiv = document.createElement("div");
              attrSuperDiv.id = "attrSuperDiv";
              for (let i = 0; i < attributeObjects.length; i++) {
                for (let attrName in attributeObjects[i]) {
                  var falg = document.getElementById(attrName + "DivId");

                  let attrValues = attributeObjects[i][attrName];

                  let attrDiv = document.createElement("div");
                  attrDiv.className =
                    attrName.toLowerCase() + "-types size-detail";

                  let heading = document.createElement("h4");
                  heading.textContent = attrName;
                  heading.id = attrName + "DivId";

                  let ul = document.createElement("ul");

                  for (let j = 0; j < attrValues.length; j++) {
                    let li = document.createElement("li");

                    let liId = attrName.toLowerCase() + "UlLi" + j;
                    li.setAttribute("id", liId);

                    let a = document.createElement("a");
                    let aId = attrName.toLowerCase() + "A" + j;
                    a.setAttribute("id", aId);
                    let fun =
                      "show_details_for_quick_view({attributeObjectsIds:'" +
                      data.attributeObjectsIds +
                      "',clickedEleId: '" +
                      aId +
                      "', eleLen: '" +
                      attrValues.length +
                      "', key: 'selected" +
                      attrName +
                      "AtQuickView', value: '" +
                      attrValues[j] +
                      "',  ulDiv:'" +
                      attrName.toLowerCase() +
                      "',id: '" +
                      data.productId +
                      "'})";
                    a.setAttribute("onClick", fun);

                    let liContent = document.createElement("li");
                    liContent.setAttribute(
                      "class",
                      attrName.toLowerCase() + "Li"
                    );
                    liContent.innerHTML = attrValues[j];

                    li.appendChild(a);
                    a.appendChild(liContent);
                    ul.appendChild(li);
                  }
                  // Create hidden input field for attribute
                  let input = document.createElement("input");
                  input.type = "hidden";
                  input.name = attrName.toLowerCase();
                  // input.value = attrName;
                  input.id = "selected" + attrName + "AtQuickView";
                  attrDiv.appendChild(input);

                  attrDiv.appendChild(heading);
                  attrDiv.appendChild(ul);

                  priceLabel2.appendChild(attrSuperDiv);
                  attrSuperDiv.appendChild(attrDiv);
                }
              }
            }

            let url1 = "add_to_cart_fun_at_quick_view({key:'test'})".replace(
              "test",
              firstProductVariant.toString()
            );
            document.getElementById("addToCart").setAttribute("onClick", url1);

            let url2 = "{% url 'left_slidebar' 'test' %}".replace(
              "test",
              id.toString()
            );
            document
              .getElementById("productLeftSlidebar")
              .setAttribute("href", url2);

            var images = document.getElementsByClassName("product-quick-view");


            // Code to render out product details like Category and Brand in quick model view START -------------------------

            const div = document.createElement("div");
            div.className = "product-details";
            div.id = "product-details";

            const h4 = document.createElement("h4");
            h4.textContent = "product details";
            div.appendChild(h4);

            const ul = document.createElement("ul");

            const li1 = document.createElement("li");
            const span1 = document.createElement("span");
            span1.className = "font-light";
            span1.textContent = "Brand :";
            li1.appendChild(span1);
            li1.appendChild(document.createTextNode(data.brand));
            ul.appendChild(li1);

            const li2 = document.createElement("li");
            const span2 = document.createElement("span");
            span2.className = "font-light";
            span2.textContent = "Category :";
            li2.appendChild(span2);
            li2.appendChild(document.createTextNode(data.category));
            ul.appendChild(li2);

            div.appendChild(ul);

            // var attrSuperDiv = document.getElementById("attrSuperDiv");
            //
            // if (attrSuperDiv) {
            //   attrSuperDiv.after(div);
            // } else {
            // var priceLabelAtQuickView = document.getElementById("priceLabel2");
            //   priceLabelAtQuickView.after(div);
            // }
            var priceLabelAtQuickView = document.getElementById("priceLabel2");
            priceLabelAtQuickView.after(div);
            // Code to render out product details like Category and Brand in quick model view End ---------------------------

            // Code to render out multiple images in quick model view START -------------------------------------------------

            // Code to render out multiple images in quick model view END ---------------------------------------------------
          });
      }

      function removeElementsByClass(className) {
        const elements = document.getElementsByClassName(className);
        while (elements.length > 0) {
          elements[0].parentNode.removeChild(elements[0]);
        }
      }


      function add_to_cart_fun_at_quick_view(params) {
        let quantityValue = 1;
        if (params.key == "No Product Yet") {
        } else {
          let url = "{% url 'add_to_cart' 'id' 'quantity' %}";
          url = url.replace("id", params.key);
          url = url.replace("quantity", quantityValue);
          fetch(url, {
            method: "GET",
            headers: {
              "Content-type": "application/json",
              "X-CSRFToken": csrftoken,
            },
          });
          window.location.reload();
        }
      }

      document.addEventListener("DOMContentLoaded", function () {
        const stars = document.querySelectorAll("#starRating i");
        const ratingInput = document.querySelector("#rating");

        stars.forEach(function (star) {
          star.addEventListener("click", function () {
            // remove the 'rated' class from all stars
            stars.forEach(function (s) {
              s.classList.remove("theme-color");
            });
            // add the 'rated' class to the clicked star and all previous stars
            for (let i = 0; i < star.id.slice(-1); i++) {
              stars[i].classList.add("theme-color");
            }
          });
        });
      });

      async function submitReview(params) {
        var reviewText = document.getElementById("comments");
        const starRatingElement = document.getElementById("starRating");
        const starElements = starRatingElement.querySelectorAll(".fas.fa-star");
        const themeColorStarElements = Array.from(starElements).filter(
          (element) => element.classList.contains("theme-color")
        );
        const themeColorStarCount = themeColorStarElements.length;

        console.log(themeColorStarCount, "66666666666", params.productId); // Outputs the number of elements with "fas fa-star theme-color" class in the element with id "starRating"

        if (themeColorStarCount === null || themeColorStarCount === 0) {
          alert("Please select a rating before submitting your review.");
          event.preventDefault();
          return;
        } else if (
          reviewText.value === null ||
          reviewText.value.trim() === ""
        ) {
          alert("Please give some review");
          event.preventDefault();
          return;
        }

        var url = "{% url 'customer_review' %}";

        await fetch(url, {
          method: "POST",
          headers: {
            "Content-type": "application/json",
            "X-CSRFToken": csrftoken,
          },
          body: JSON.stringify({
            productId: params.productId,
            reviewText: reviewText.value,
            ratingValue: themeColorStarCount,
          }),
        });
        window.location.reload();
      }
    </script>
    {% comment %}
    -----------------------------------------------------------------------------
    {% endcomment %} {% comment %}
    <script src="{% static 'assets/js/timer.js' %}"></script>
    {% endcomment %}

    <!-- script js -->

    <script src="{% static 'assets/js/theme-setting.js' %}"></script>
    <script src="{% static 'assets/js/script.js' %}"></script>
  </body>
</html>


























<h3 class="price-detail" id="productFinalPrice">
  {% if product.productType == "Simple" %}
  {{""|return_currency_wise_symbol:request}}{{product.product_price_range|return_currency_wise_ammount:request}}
  {% else %}
  {{product.product_price_range|return_currency_wise_ammount_range:request}}
  {% endif %}

  {% if product.productType == "Simple" %}
  {% if product.product_discount_range|to_int == 0|to_int %}
  {% else %}
  <del
    id="actualPrice">{{""|return_currency_wise_symbol:request}}{{product.product_actual_price_range|return_currency_wise_ammount:request}}</del>
  <span id="discountPercentage">{{product.product_discount_range}}</span>
  {% endif %}
  {% else %}
  <del
    id="actualPrice">{{product.product_actual_price_range|return_currency_wise_ammount_range:request}}</del>
  <span id="discountPercentage">{{product.product_discount_range}}</span>
  {% endif %}
</h3>











<script>
  (function($) {
    "use strict";

    // Function to update the countdown
    function updateCountdown() {
        // Set the date we're counting down to
        var currentDate = new Date();
        var countDownDate = new Date(currentDate);
        countDownDate.setDate(countDownDate.getDate() + 12); // Adding 12 days to the current date

        // Update the countdown timer
        var x = setInterval(function() {
            var now = new Date().getTime();
            var distance = countDownDate - now;

            var days = Math.floor(distance / (1000 * 60 * 60 * 24));
            var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
            var seconds = Math.floor((distance % (1000 * 60)) / 1000);

            document.getElementById("demo").innerHTML =
                "<span>" + days + "<span class='timer-cal'>Days</span></span>" +
                "<span>" + hours + "<span class='timer-cal'>Hrs</span></span>" +
                "<span>" + minutes + "<span class='timer-cal'>Min</span></span>" +
                "<span>" + seconds + "<span class='timer-cal'>Sec</span></span>";

            if (distance < 0) {
                clearInterval(x);
                updateCountdown(); // Restart the countdown with a new 12-day interval
            }
        }, 1000);
    }

    // Initial call to start the countdown
    updateCountdown();
})(jQuery);

</script>